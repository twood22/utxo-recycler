# UTXO Recycler Configuration

# Required: Nostr Wallet Connect URI for Lightning payments
NWC_URI=nostr+walletconnect://...

# Required: BDK wallet descriptor for generating deposit addresses
# Example for a wpkh descriptor:
# WALLET_DESCRIPTOR=wpkh([fingerprint/84'/0'/0']xpub.../0/*)
WALLET_DESCRIPTOR=

# Optional: Database URL (defaults to SQLite file)
DATABASE_URL=sqlite:utxo_recycler.db?mode=rwc

# Optional: Electrum server URL (defaults to blockstream.info)
# Format: ssl://host:port or tcp://host:port
# Examples:
#   ssl://electrum.blockstream.info:50002
#   tcp://your-server.onion:50001 (for Tor)
ELECTRUM_URL=ssl://electrum.blockstream.info:50002

# Optional: Tor SOCKS5 proxy for .onion Electrum servers
# Requires Tor running locally (default port 9050)
# TOR_PROXY=127.0.0.1:9050

# Optional: Payout multiplier (defaults to 1.01 for 101%)
PAYOUT_MULTIPLIER=1.01

# Optional: Required confirmations (defaults to 6)
REQUIRED_CONFIRMATIONS=6

# Optional: Server configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=3000

# Optional: Admin token for /admin/stats endpoint
# Generate with: openssl rand -hex 32
# ADMIN_TOKEN=your-secret-token-here

# Optional: Rate limiting (applies to /confirm and /api/recycle)
# RATE_LIMIT_MAX_REQUESTS=10  # Max requests per window (default: 10)
# RATE_LIMIT_WINDOW_SECS=60   # Window duration in seconds (default: 60)
